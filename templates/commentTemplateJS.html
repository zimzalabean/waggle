{% macro comment_temp(comment, post) -%}
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
<link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Nunito+Sans&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,0,0" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

<style>
    .material-symbols-outlined {
      font-size: 20px;
      font-variation-settings:
      'FILL' 0,
      'wght' 400,
      'GRAD' 0,
      'opsz' 48
    }

    .metric {
        padding: 0;
        margin: auto;
        border: none;
        background: none;
    }

    .metric-reply{
        padding-left: 0px;
        font-size: 8px;
        border: none;
        background: none;
    }

    .metric-btn{
        padding-left: 20%;
        font-size: 10px;
        border: none;
        background: none;
    }

    .metric-dislike{
        padding-left: 20%;
        font-size: 14px;
        border: none;
        background: none; 
    }

    .num{
        padding-left: 20%;
        
        border: none;
        background: none; 
    }
</style>

    <div class="comment">
        <div class = comment-info>            
            <p class = user_info> 
                <span class="material-symbols-rounded"> face_2 </span>           
                <span> <a href="{{url_for('user', username=comment.commentor_id)}}" class = "comment-author">{{comment.username}}</a> </span></p>            
            <p class="posted-date">{{comment.posted_date}} </p>
        </div>

        <div class = 'comment-body'>
            <p>{{comment.content}}</p>     
        </div>    

        <div class = "comment-metric" > 

            <div data-toggle="reply" data-target="reply_form"> 


                 <form method=post action="{{url_for('likeComment', post_id = post.post_id, comment_id = comment.comment_id)}}" >
                    <p>
                        <button class ="metric-reply" type="submit" value="Test"><svg class="feather feather-message-circle sc-dnqmqq jxshSx" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>{{comment.replies}} </button> 
                        <button class ="metric-btn" name = "submit" type="submit" value="Like"><span class="material-symbols-outlined">favorite</span></button> {{comment.likes}}
                        <button class ="metric-btn" name = "submit" type="submit" value="Dislike"><span class="material-symbols-outlined">heart_broken</span></button>{{comment.dislikes}} 
                        <button class ="metric-btn" name = "submit" type="submit" value="Flag"><span class="material-symbols-outlined">flag</span></button> {{comment.dislikes}}                       
                    </p>
                </form> 
            </div>

     
            {% if valid %}
                <!-- Reply section-->  
                <form method='post' class = 'reply_form d-none' action="{{url_for('addReply', comment_id = parent_comment.comment_id)}}" >     
                    <textarea name="comment_content"  placeholder="Reply to comment"  rows="4" cols="30"></textarea>
                    <input type="submit" name="submit" value="Reply">
                </form>
            {% endif%}


        </div>
    </div>




<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<script> 
document.addEventListener(
    "click",
    function(event) {
        var target = event.target;
        var replyForm;
        if (target.matches("[data-toggle='reply']")) {
            replyForm = document.getElementById(target.getAttribute("data-target"));
            replyForm.classList.toggle("d-none");
        }
    },
    false
);
</script>

{%- endmacro%}