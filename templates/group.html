{% extends "baseTemplate.html" %}

{% block main_content %}


    {% if joined %}
    <!-- <div class="add_post_form"> -->
        <form name="write_post" action="{{url_for('addPost')}}" method="POST">
            <textarea name="content" class = 'write-text' placeholder="Something to share with the class?"></textarea>
            <input type="submit" class = 'search-filter' value="Post">
            <input type="hidden" name="gaggle_id" value="{{gaggle.gaggle_id}}">
            <input type="hidden" name="gaggle_name" value="{{gaggle.gaggle_name}}">
        </form>
    <!-- </div> -->
    {% endif %}

    {% import "postTemplateJS.html" as postComp%}
    {% for post in posts %}
        {{postComp.post_temp(post=post)}}
    {% endfor %}


{% endblock %}

{% block right_content %}
<p>welcome to {{gaggle.gaggle_name}} </p>
<p>created by <a href="{{url_for('user', username=gaggle.username)}}">{{gaggle.username}}</a></p>
<p>about:  {{gaggle.description}}</p>
<p><a href="{{url_for('gaggleMembers', gaggle_name = gaggle.gaggle_name)}}">View members</a></p>

<div class="join_group">
    <form name="join_group" action="{{url_for('joinGaggle', gaggle_name = gaggle.gaggle_name)}}" method="POST">
        {% if joined %}
        <input type="submit" class = 'search-filter' name = "submit" value="Unjoin">
        {% else %}
        <input type="submit" class = 'search-filter' name = "submit" value="Join">
        {% endif %}
        <input type="hidden" name="gaggle_id" value="{{gaggle.gaggle_id}}">
    </form>
</div>


{% endblock %} 
