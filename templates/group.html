{% extends "baseTemplate.html" %}

{% block header %}
<div class = 'header' style = 'display: flex;'>
    <div class = 'gaggle-name' style = 'padding: 10px;'>                       
        <h5 style = 'font-size: 20px;'> üê£ {{gaggle.gaggle_name}} </h5>
    </div>  
    <div class="header-button"> 
        {% if isAuthor %} 
        <a href = "{{url_for('myGaggle', gaggle_name = gaggle.gaggle_name)}}"><button class = 'search-filter'>EDIT GROUP</button></a> 
        {% else %}
            <form name="join_group" action="{{url_for('joinGaggle', gaggle_name = gaggle.gaggle_name)}}" method="POST">
                {% if joined %}
                <input type="submit" class = 'search-filter' name = "submit" value="Unjoin">
                {% else %}
                <input type="submit" class = 'search-filter' name = "submit" value="Join">
                {% endif %}
                <input type="hidden" name="gaggle_id" value="{{gaggle.gaggle_id}}">
            </form>
        {% endif %}
    </div> 
</div>
{% endblock %} 


{% block main_content %}


    {% if joined %}
    <!-- <div class="add_post_form"> -->
        <form name="write_post" action="{{url_for('addPost')}}" method="POST">
            <textarea name="content" class = 'write-text' placeholder="Something to share with the class?"></textarea>
            <input type="submit" class = 'search-filter' value="Post">
            <input type="hidden" name="gaggle_id" value="{{gaggle.gaggle_id}}">
            <input type="hidden" name="gaggle_name" value="{{gaggle.gaggle_name}}">
        </form>
    <!-- </div> -->
    {% endif %}

    {% import "postTemplateJS.html" as postComp%}
    {% for post in posts %}
        {{postComp.post_temp(post=post)}}
    {% endfor %}


{% endblock %}

{% block right_content %}
<p>welcome to {{gaggle.gaggle_name}} </p>
<p>created by <a href="{{url_for('user', username=gaggle.username)}}">{{gaggle.username}}</a></p>
<p>about:  {{gaggle.description}}</p>
<p><a href="{{url_for('gaggleMembers', gaggle_name = gaggle.gaggle_name)}}">View members</a></p>








{% endblock %} 
